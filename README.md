# TSP Swarm Solver

![Rust](https://img.shields.io/badge/Language-Rust-orange.svg)
![License](https://img.shields.io/badge/License-MIT-blue.svg)

Солвер для **Задачи Коммивояжера (TSP)**, на языке Rust.

В проекте реализованы и сравниваются два подхода роевого интеллекта:
1.  **Ant Colony System (ACS)** -- основной метод. Гибридный алгоритм, использующий муравьиную колонию, усиленную локальным поиском (**2-opt** и **Or-opt**) и списками кандидатов для ускорения.
2.  **Particle Swarm Optimization (PSO)** -- контрольный алгоритм на основе кодирования Random Keys.

Алгоритм оптимизирован для работы с графами большой размерности (до **33 000+ городов**) за счет вычисления расстояний "на лету" без хранения матрицы смежности в памяти.

---

## Структура проекта

Весь исходный код находится в папке `src/`.

* **`src/main.rs`**
  * Точка входа в программу.
  * Здесь задаются параметры запуска (количество муравьев, итераций, коэффициенты жадности) для разных тестовых файлов.
  * Здесь происходит выбор файла данных и запуск тестов для солвера.

* **`src/tsp_data.rs`**
  * Модуль для работы с данными.
  * Отвечает за чтение файлов с координатами городов.
  * Содержит оптимизированную функцию расчета евклидова расстояния (`dist`), которая не требует хранения гигантской матрицы в оперативной памяти.

* **`src/tsp_solvers.rs`**
  * Ядро логики алгоритмов.
  * `AcsTspSolver` -- реализация системы муравьиных колоний, включая логику феромонов, 2-opt и Or-opt оптимизации.
  * `PsoTspSolver` -- реализация алгоритма PSO. 
  * Вспомогательные структуры для списков кандидатов.

* **`data/`**
  * Здесь лежат текстовые файлы тестов с координатами городов (формат: `N` строк, в каждой `X Y`).

* **`answers/`** 
  * Тут результаты отработки на тестах в виде текстовых файлов, на каждый тест в файле неходится строка 
  ```
  <номер_теста> <баллы> <оптимальный_путь_как_список_вершин>\n
  ```

* **`logs/`** 
  * Тут хранится лог запуска программы.

* **`visualization/`** 
  * Тут можно посмотреть на визуализацию найденных путей (с помощью ACS и PSO), а также код для отрисовки.

*   **`Cargo.toml`**
    * Файл конфигурации Rust-проекта и зависимостей (используется библиотека `rand`).

## Визуализации и баллы

Баллы и визуализированные решения можно посмотреть в папке `visualization/`.

---

## Как запустить

Для запуска вам понадобится установленный [Rust и Cargo](https://rustup.rs/), а также Python >3.9. 

### 1. Клонирование репозитория
```bash
git clone https://github.com/AntonLED/TSP-swarm-solver.git
cd TSP-swarm-solver
```

### 2. Сборка и запуск
Сборка и запуск проекта на rust:
```bash
cargo run --release
```

Сборка питона для запуска `visualizer.ipynb`:
```bash
pip install -r requirements.txt
```
После завершения работы программа выведет лучшую найденную длину пути и время выполнения.
### 3. Требования к ресурсам
RAM: Не мнее 5 Гб (для графа с 33к вершинами). 

--- 

### License
This project is licensed under the MIT License.

